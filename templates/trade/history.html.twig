{% extends 'base.html.twig' %}

{% block title %}Hello TradeController!{% endblock %}

{% block body %}
<style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
</style>

    <div class="header">
        <div class="header-container">
            <a href="{{ path('app_home_page') }}">Jouer</a>
            <div class="profile-actions">
                <a href="{{ path('app_account') }}">Voir mon profil | {{ user }}</a>
                <a href="{{ path('app_logout') }}">Se déconnecter</a>
            </div>
        </div>
    </div>

<div class="example-wrapper">
    <h1>Historique des échanges</h1>

    {% if (trades|length)%}
    <ul>
        {% for trade in trades %}
            <li class="trade">
                <div class="trade-resume">
                    <div>
                        <p>{{ trade.getSender().getUsername() }}</p>
                        <img src="{{ trade.getSenderPokemon().getPokemonImage()}}">
                        <p>{{ trade.getSenderPokemon() }}</p>
                    </div>
                    <div><-></div>
                    <div>
                        <p>{{ trade.getReciever().getUsername() }}</p>
                        <img src="{{ trade.getRecieverPokemon().getPokemonImage()}}">
                        <p>{{ trade.getRecieverPokemon() }}</p>
                    </div>
                </div>
                    <p>{{ trade.state }}</p>

            </li>
        {% endfor %}
    </ul>
    {% else %}
        <p>Vous n'avez pas encore finaliser d'échanges</p>
    {% endif %}
</div>
{% endblock %}
